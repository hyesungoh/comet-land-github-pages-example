import e,{useEffect as t,useMemo as i}from"react";import{useFocusRing as r}from"@react-aria/focus";import a from"./collapse-icon";import o from"../utils/expand";import{useCollapseContext as s}from"./collapse-context";import l from"../use-current-state";import d from"../use-warning";import n from"../use-theme";import{useId as c}from"@react-aria/utils";import m,{KeyCode as p}from"../use-keyboard";import{StyledCollapse as u,StyledCollapseView as f,StyledCollapseContent as b}from"./collapse.styles";import h from"../utils/clsx";import v from"../utils/with-defaults";import{jsx as x}from"react/jsx-runtime";import{jsxs as w}from"react/jsx-runtime";const N="nextui-collapse",$=({children:v,title:$,subtitle:g,expanded:j,shadow:D,className:k,divider:E,arrowIcon:I,showArrow:V,disabled:y,onChange:C,bordered:A,contentLeft:F,preventDefault:S,animated:W,borderWeight:q,index:G,...L})=>{const[P,z,B]=l(j),{isDark:H}=n(),{values:J,divider:K,animated:M,updateValues:O}=s(),{isFocusVisible:Q,focusProps:R}=r();$||d('"title" is required.',"Collapse"),t((()=>{P!==j&&z(j)}),[j]),t((()=>{if(!J.length)return;const e=!!J.find((e=>e===G));z(e)}),[J.join(",")]);const T=c(),U=c(),X=i((()=>V?I||x(a,{}):null),[I,V]),Y=void 0===K?E:K,Z=i((()=>void 0===M?W:M),[M,W]),_=e=>{if(y)return;const t=!B.current;z(t),O&&O(G,t),C&&C(e,G,t)},{bindings:ee}=m((e=>{_(e)}),[p.Enter,p.Space],{disableGlobalEvent:!0,preventDefault:S}),te=i((()=>P?"open":"closed"),[P]);return w(u,{tabIndex:-1,shadow:D,bordered:A,animated:Z,divider:Y,borderWeight:q,visible:P,"data-state":te,className:h(k,N,`${N}--${te}`),isDark:H,...L,children:[x(f,{role:"button",tabIndex:y?-1:0,id:T,className:`${N}-view`,"data-state":te,disabled:y,"aria-disabled":y,"aria-expanded":P,"aria-controls":U,isFocusVisible:Q,onClick:_,...R,...ee,children:w("div",{className:h(`${N}-title-container`),children:[F&&x("div",{className:`${N}-title-content-left`,children:F}),w("div",{className:`${N}-title-content`,children:[e.isValidElement($)?$:x("h3",{className:`${N}-title`,children:$}),g&&x("div",{className:`${N}-subtitle`,children:g})]}),x("div",{className:`${N}-title-content-right`,children:X})]})}),x(o,{isExpanded:P,animated:Z,children:x(b,{role:"region",tabIndex:-1,id:U,"aria-labelledby":T,className:`${N}-content`,children:v})})]})};$.toString=()=>".nextui-collapse";export default v($,{shadow:!1,divider:!0,bordered:!1,showArrow:!0,animated:!0,disabled:!1,preventDefault:!0,expanded:!1});