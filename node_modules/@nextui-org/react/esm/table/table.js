import e,{useImperativeHandle as o,useRef as t}from"react";import{useTable as r}from"@react-aria/table";import{useTableState as l}from"@react-stately/table";import{Spacer as i}from"../index";import a from"./table-row-group";import n from"./table-column-header";import s from"./table-header-row";import c from"./table-select-all-checkbox";import m from"./table-pagination";import d from"./table-footer";import h from"./table-body";import{hasChild as p,pickSingleChild as u}from"../utils/collections";import{StyledTable as b,StyledTableContainer as f}from"./table.styles";import x from"./table-context";import{excludedTableProps as w}from"../utils/prop-types";import{isInfinityScroll as g}from"./utils";import v from"../utils/with-defaults";import y from"../utils/clsx";import{jsx as k}from"react/jsx-runtime";import{jsxs as N}from"react/jsx-runtime";const C=e.forwardRef(((v,C)=>{const{selectionMode:S,selectionBehavior:j,hideLoading:M,children:P,shadow:L,color:B,animated:I,borderWeight:O,bordered:R,containerCss:W,...E}=v,[F,T]=u(P,m),U=p(P,m),V=l({...v,children:F,showSelectionCheckboxes:void 0!==v.showSelectionCheckboxes?v.showSelectionCheckboxes:"multiple"===S&&"replace"!==j});Object.keys(E).forEach((e=>{w.indexOf(e)>-1&&delete E[e]}));const q=t(null);o(C,(()=>null==q?void 0:q.current));const{collection:z}=V,{gridProps:A}=r(v,V,q),D=e.useMemo((()=>({collection:z,color:B,animated:I})),[z,I,B]);return k(x.Provider,{defaultValues:D,children:k(f,{shadow:L,borderWeight:O,bordered:R,className:"nextui-table-container",css:{...W},children:N(b,{ref:q,color:B,shadow:L,animated:I,hoverable:"none"!==S||E.hoverable,isMultiple:"multiple"===S,hasPagination:U,className:y("nextui-table",E.className),...A,...E,children:[N(a,{as:"thead",isFixed:g(z),children:[z.headerRows.map((e=>k(s,{item:e,state:V,children:[...e.childNodes].map((e=>{var o;return null!=e&&null!=(o=e.props)&&o.isSelectionCell?k(c,{column:e,state:V,color:B,animated:I},null==e?void 0:e.key):k(n,{column:e,state:V,animated:I},null==e?void 0:e.key)}))},null==e?void 0:e.key))),!E.sticked&&k(i,{as:"tr",className:"nextui-table-hidden-row",y:.4})]}),k(h,{state:V,color:B,collection:z,animated:I,hasPagination:U,hideLoading:M}),U&&N(d,{children:[k(i,{as:"tr",className:"nextui-table-hidden-row",y:.6}),k("tr",{role:"row",children:k("th",{tabIndex:-1,role:"columnheader",colSpan:z.columnCount,children:T})})]})]})})})}));C.displayName="NextUI - Table",C.toString=()=>".nextui-table";export default v(C,{animated:!0,hideLoading:!1,selectionMode:"none",selectionBehavior:"toggle"});